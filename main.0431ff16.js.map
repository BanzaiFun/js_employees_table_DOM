{"version":3,"sources":["scripts/main.js"],"names":["cities","fieldNames","headerRow","document","querySelector","tableBody","form","createElement","body","button","setAttribute","forEach","field","label","input","defaultOtion","append","city","option","textContent","innerText","toLowerCase","className","addEventListener","e","preventDefault","data","FormData","entries","Array","from","newRow","formValid","el","newTd","pushNotification","querySelectorAll","clearEl","value","target","tagName","parentElement","bod","newInput","remove","eve","headerElements","clickedHeader","findIndex","th","tableRowsArray","sortDirection","getAttribute","sort","a","b","aTds","bTds","localeCompare","undefined","numeric","item","posTop","posRight","title","description","type","bodyNotification","h2","block","paragraph","style","top","right","setTimeout"],"mappings":"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","file":"main.0431ff16.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst cities = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco'];\nconst fieldNames = [\n  'Name',\n  'Position',\n  'Office',\n  'Age',\n  'Salary',\n];\nconst headerRow = document.querySelector('thead tr');\nconst tableBody = document.querySelector('tbody');\nconst form = document.createElement('form');\nconst body = document.querySelector('body');\nconst button = document.createElement('button');\n\nbutton.setAttribute('type', 'submit');\n\nfieldNames.forEach(field => {\n  const label = document.createElement('label');\n  let input;\n\n  if (field === 'Office') {\n    input = document.createElement('select');\n\n    const defaultOtion = document.createElement('option');\n\n    input.append(defaultOtion);\n\n    cities.forEach(city => {\n      const option = document.createElement('option');\n\n      option.setAttribute('value', city);\n      option.textContent = city;\n      input.append(option);\n    });\n  } else {\n    input = document.createElement('input');\n\n    input.setAttribute('type', 'text');\n  }\n\n  if (field === 'Age' || field === 'Salary') {\n    input = document.createElement('input');\n    input.setAttribute('type', 'number');\n    input.innerText = `$${field}`;\n  }\n\n  input.setAttribute('data-qa', field.toLowerCase());\n  input.setAttribute('name', field.toLowerCase());\n\n  label.textContent = field;\n  label.append(input);\n  form.append(label);\n});\n\nform.className = 'new-employee-form';\nbutton.innerText = 'Save to table';\n\nform.append(button);\nbody.append(form);\n\n// Button\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const entries = Array.from(data.entries());\n  const newRow = document.createElement('tr');\n  let formValid = true;\n\n  entries.forEach(el => {\n    if (el[1] === '') {\n      formValid = false;\n    }\n\n    const newTd = document.createElement('td');\n\n    newTd.innerText = el[0] === 'salary' ? `$${el[1]}` : el[1];\n    newRow.append(newTd);\n  });\n\n  if (!formValid) {\n    pushNotification(\n      20,\n      20,\n      'Error',\n      `Please fill all fields`,\n      'error'\n    );\n  } else {\n    tableBody.append(newRow);\n\n    pushNotification(\n      20,\n      20,\n      'Success',\n      `New employee saved`,\n      'success'\n    );\n\n    const formInputs = form.querySelectorAll('input, select');\n\n    formInputs.forEach(clearEl => {\n      clearEl.value = '';\n    });\n  }\n});\n\ntableBody.addEventListener('click', e => {\n  if (e.target.tagName === 'TD') {\n    const classActiveRemove = tableBody.querySelectorAll('tr.active');\n\n    classActiveRemove.forEach(el => {\n      el.className = '';\n    });\n    e.target.parentElement.className = 'active';\n  }\n});\n\ntableBody.addEventListener('dblclick', e => {\n  if (e.target.tagName === 'TD') {\n    const bod = tableBody.querySelectorAll('input');\n    const newInput = document.createElement('input');\n\n    bod.forEach(input => {\n      input.parentElement.innerText = input.value;\n      input.remove();\n    });\n\n    newInput.setAttribute('type', 'text');\n    newInput.value = e.target.innerText;\n    newInput.className = 'cell-input';\n    e.target.innerText = '';\n    e.target.append(newInput);\n\n    newInput.addEventListener('blur', eve => {\n      eve.target.parentElement.innerText = eve.target.value;\n      eve.target.remove();\n    });\n  }\n});\n\n// Sorted\n\nheaderRow.addEventListener('click', e => {\n  if (e.target.tagName === 'TH') {\n    const headerElements = headerRow.querySelectorAll('th');\n    const clickedHeader = [...headerElements].findIndex(th => th === e.target);\n    const tableRowsArray = [...document.querySelectorAll('tbody tr')];\n\n    let sortDirection = e.target.getAttribute('data-sort');\n\n    sortDirection = sortDirection\n      ? sortDirection === 'asc'\n        ? 'desc'\n        : 'asc'\n      : 'asc';\n    e.target.setAttribute('data-sort', sortDirection);\n\n    const sortedRows = tableRowsArray.sort((a, b) => {\n      let aTds, bTds;\n\n      if (sortDirection === 'asc') {\n        aTds = a.querySelectorAll('td');\n        bTds = b.querySelectorAll('td');\n      } else {\n        aTds = b.querySelectorAll('td');\n        bTds = a.querySelectorAll('td');\n      }\n\n      if (aTds[clickedHeader].innerText[0] === '$') {\n        return aTds[clickedHeader].innerText\n          .localeCompare(bTds[clickedHeader]\n            .innerText, undefined, { numeric: true });\n      }\n\n      return aTds[clickedHeader]\n        .innerText.localeCompare(bTds[clickedHeader].innerText);\n    });\n\n    sortedRows.forEach(item => {\n      tableBody.append(item);\n    });\n  }\n});\n\n// Notification\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const bodyNotification = document.querySelector('body');\n  const h2 = document.createElement('h2');\n  const block = document.createElement('div');\n  const paragraph = document.createElement('p');\n\n  block.className = `notification ${type}`;\n  block.setAttribute('data-qa', 'notification');\n  h2.textContent = title;\n  h2.className = 'title';\n  paragraph.textContent = description;\n  block.style.top = `${posTop}px`;\n  block.style.right = `${posRight}px`;\n  block.append(h2, paragraph);\n  bodyNotification.append(block);\n\n  setTimeout(() => {\n    block.remove();\n  }, 2000);\n};\n"]}